<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Solicite uma cota√ß√£o personalizada para sua pe√ßa de croch√™ artesanal do N√≥ Encantado. Pe√ßa sob medida em Pernambuco.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://noencantado.shop/cotacao">
    <meta property="og:title" content="Solicite sua Cota√ß√£o | N√≥ Encantado">
    <meta property="og:description" content="Pe√ßa sua pe√ßa de croch√™ personalizada. Fa√ßa seu or√ßamento sem compromisso!">
    <meta property="og:image" content="https://noencantado.shop/img/preview-cotacao.jpg">
    
    <title>Solicitar Cota√ß√£o | N√≥ Encantado</title>
    <link rel="icon" type="image/png" href="../assets/images/favicon.png">
    <link rel="canonical" href="https://noencantado.shop/cotacao">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Nunito:wght@300;400;600&family=Dancing+Script:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link href="../assets/css/style.css" rel="stylesheet">
    <style>
        .quote-hero {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('../assets/images/quote-bg.jpg');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 6rem 0;
            text-align: center;
        }
        
        .quote-form {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 2.5rem;
            margin-top: -80px;
            position: relative;
            z-index: 2;
        }
        
        .form-control, .form-select, .form-textarea {
            border: 2px solid #f0f0f0;
            padding: 0.8rem 1rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }
        
        .form-control:focus, .form-select:focus, .form-textarea:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem rgba(230, 184, 162, 0.25);
        }
        
        .form-textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        .btn-quote {
            background-color: var(--primary-color);
            border: none;
            padding: 1rem 2.5rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .btn-quote:hover {
            background-color: var(--dark-color);
            transform: translateY(-2px);
        }
        
        .form-label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark-color);
        }
        
        .required-field::after {
            content: " *";
            color: #dc3545;
        }
        
        @media (max-width: 768px) {
            .quote-hero {
                padding: 4rem 0;
            }
            
            .quote-form {
                padding: 1.5rem;
                margin-top: -40px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <img src="../assets/images/logo-no-encantado.png" alt="N√≥ Encantado" class="logo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">In√≠cio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#galeria">Nossas Pe√ßas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#como-encomendar">Como Encomendar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#sobre">Sobre</a>
                    </li>
                    <li class="nav-item d-flex align-items-center">
                        <a href="http://wa.me/5581992664924" class="btn btn-primary ms-lg-3" target="_blank">
                            Fazer minha encomenda ‚ú®
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="quote-hero">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <h1 class="display-4 fw-bold mb-3">Solicite sua Cota√ß√£o</h1>
                    <p class="lead">Preencha o formul√°rio abaixo para receber um or√ßamento personalizado da sua pe√ßa de croch√™ dos sonhos</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Quote Form -->
    <section class="container mb-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <form id="quoteForm" class="quote-form" onsubmit="enviarCotacaoWhatsApp(event)">
                    <div class="mb-4">
                        <div class="mb-4">
                            <label for="descricao" class="form-label required-field">Descri√ß√£o da pe√ßa</label>
                            <textarea class="form-control form-textarea" id="descricao" name="descricao" rows="3" placeholder="Descreva a pe√ßa que deseja encomendar, incluindo caracter√≠sticas importantes" required></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label for="nome" class="form-label required-field">Nome</label>
                            <input type="text" class="form-control" id="nome" name="nome" placeholder="Seu nome completo" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="cidade" class="form-label">Cidade</label>
                            <input type="text" class="form-control" id="cidade" name="cidade" placeholder="Sua cidade (opcional)">
                        </div>
                        
                        <div class="mb-3">
                            <label for="observacao" class="form-label">Observa√ß√£o</label>
                            <textarea class="form-control form-textarea" id="observacao" name="observacao" rows="2" placeholder="Alguma informa√ß√£o adicional? (opcional)"></textarea>
                        </div>
                        
                        <div class="mb-4">
                            <button type="submit" class="btn btn-whatsapp w-100 py-3" onclick="enviarCotacaoWhatsApp(event)">
                                üíå Enviar pelo WhatsApp
                            </button>
                    
                    <p class="text-muted mt-3 small">
                        <i class="fas fa-lock me-2"></i> Seus dados est√£o seguros e ser√£o usados apenas para entrar em contato sobre esta cota√ß√£o.
                    </p>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer" id="footer">
        <div class="container py-2">
            <div class="footer-row">
                <div class="footer-left">
                    <a href="../index.html" class="footer-logo">
                        <img src="../assets/images/logo-no-encantado.png" alt="N√≥ Encantado" class="logo">
                    </a>
                    <p class="footer-about">Pe√ßas de croch√™ feitas √† m√£o com amor em Pernambuco.</p>
                    <div class="footer-social">
                        <a href="https://www.instagram.com/_noencantado/" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="http://wa.me/5581992664924" target="_blank" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h4>Links R√°pidos</h4>
                    <ul>
                        <li><a href="../index.html#inicio">In√≠cio</a></li>
                        <li><a href="../index.html#galeria">Nossas Pe√ßas</a></li>
                        <li><a href="../index.html#como-encomendar">Como Encomendar</a></li>
                        <li><a href="../index.html#sobre">Sobre N√≥s</a></li>
                        <li><a href="cotacao.html">Solicitar Cota√ß√£o</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h4>Entre em Contato</h4>
                    <p><i class="fas fa-map-marker-alt me-2"></i> Pernambuco, Brasil</p>
                    <p><i class="fas fa-phone-alt me-2"></i> <a href="tel:+5581992664924">(81) 99266-4924</a></p>
                    <p><i class="fas fa-envelope me-2"></i> <a href="mailto:contato@noencantado.shop">contato@noencantado.shop</a></p>
                </div>
            </div>
            <div class="footer-copy">
                <p>&copy; <span id="current-year">2024</span> N√≥ Encantado. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Modal de Confirma√ß√£o -->
    <div class="modal fade" id="confirmacaoModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center p-5">
                    <div class="mb-4">
                        <i class="fas fa-check-circle text-success" style="font-size: 4rem;"></i>
                    </div>
                    <h4 class="mb-3">Pedido Recebido!</h4>
                    <p class="mb-4">Agradecemos pelo seu contato. Em breve entraremos em contato pelo WhatsApp para finalizar sua encomenda.</p>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="window.location.href='../index.html'">Voltar para a P√°gina Inicial</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-masker@1.1.1/lib/vanilla-masker.min.js"></script>
    <script>
        (function() {
            // Atualiza o ano no footer
            document.addEventListener('DOMContentLoaded', function() {
                document.getElementById('current-year').textContent = new Date().getFullYear();
            });

            const numero = '5581992664924'; // n√∫mero da loja (DDI+DDD+n√∫mero)
            const byId = id => document.getElementById(id);

            const normalizeOptional = (v) => {
                const t = (v || '').trim();
                return t.length ? t : ' ';
            };

            window.enviarCotacaoWhatsApp = function(event) {
                event.preventDefault();

                const descricao = byId('descricao') ? byId('descricao').value : '';
                const nome      = byId('nome')      ? byId('nome').value      : '';
                const cidade    = byId('cidade')    ? byId('cidade').value    : '';
                const observ    = byId('observacao')? byId('observacao').value: '';

                // valida obrigat√≥rios
                if (!descricao.trim() || !nome.trim()) {
                    alert('Por favor, preencha a descri√ß√£o da pe√ßa e seu nome.');
                    return;
                }

                // Usando o formato original da mensagem, mas com os campos corretos
                const mensagem = 
                    `*Nova solicita√ß√£o de cota√ß√£o*` +
                    `%0A%0A*Nome:* ${encodeURIComponent(nome.trim())}` +
                    `%0A*Cidade:* ${cidade ? encodeURIComponent(cidade.trim()) : "'"}` +
                    `%0A%0A*Detalhes da Pe√ßa*` +
                    `%0A${encodeURIComponent(descricao.trim())}` +
                    `%0A%0A*Observa√ß√µes:* ${observ ? encodeURIComponent(observ.trim()) : "'"}`;

                const link = `https://wa.me/${numero}?text=${mensagem}`;
                
                // Abre o WhatsApp
                window.open(link, '_blank');
                
                // Mostra o modal de confirma√ß√£o
                const modal = new bootstrap.Modal(document.getElementById('confirmacaoModal'));
                modal.show();
                
                // Limpa o formul√°rio
                form.reset();
            };
        })();
    </script>
</body>
</html>
